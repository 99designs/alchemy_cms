(function($) {
  $('#<%= content_dom_id(@content) %>').replaceWith('<%= escape_javascript(
    render partial: "alchemy/essences/essence_file_editor",
      formats: [:html],
      locals: {
        content: @content,
        options: @options
      }
  ) %>');
  Alchemy.closeCurrentWindow();
  Alchemy.setElementDirty($('#element_<%= @content.element.id %>'));
  Alchemy.overlayObserver($('#<%= content_dom_id(@content) %>'));
})(jQuery);
